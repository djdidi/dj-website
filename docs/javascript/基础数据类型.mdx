---
sidebar_position: 2
---

## ECMA262 中的类型

- Primitive类型(值)：`undefined`、`null`、`boolean`、`string`、`symbol`、`numberic (number bigint)`

- Object类型(引用)：`object`

> ECMAScript Data Types and Values：https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values

## typeof 操作符

返回字符串，表示操作数的类型，用作 Primitive 变量的判断。

MDN 中有详尽的返回值列表：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof

## 典型对象的判断

示例:

```javascript
class Animal {
  get[Symbol.toStringTag]() {
    return 'Animal';
  }
}

// 1.构造函数
const isAnimal = (obj) => obj.constructor === Animal;

// 2.原型链
const isAnimal = (obj) => obj instanceof Animal;

// 3.自定义 Symbol.toStringTag
const isAnimal = (obj) => Object.prototype.toString.call(obj) === "[object Animal]";
```

以上三种方法都可以被骗过，不存在完美的对象类型判断，毕竟构造函数、class等本身都是语法糖，且原型链基本上可以被任意修改。

## Primitive 的对象封装

类似java装箱/拆箱

lodash.isstring

```javascript
function isString(str) {
    return "string" === typeof str || Object.prototype.toString.call(str) === "[object String]";
}
```
